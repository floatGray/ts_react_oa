import{a,n as J,o as Q,p as K,q as F,k as P,aa as xe,ab as ve,I as we,w as Ee,ac as Ie,E as T,j}from"./render-d5b6b10e.js";import{i as Me,g as Oe,P as Pe,a as je,l as Ne}from"./zh_CN-6d0a1f1a.js";import{_ as Te}from"./lodash-6097c51b.js";import{C as Re,u as ne,b as Be,f as He,h as oe,p as ze,m as De}from"./index-c4545837.js";import{t as G}from"./common-a073e65d.js";import{c as Ae,W as Le,B as V}from"./button-419145c3.js";import{b as le,u as We,r as ae}from"./useFlexGapSupport-a785865b.js";import{g as Xe,i as _e,a as Fe}from"./colors-1216520c.js";import{F as re,R as Ye}from"./row-d1ac2986.js";import{G as Ge,B as ie}from"./index-31c898e5.js";import{S as _}from"./index-e9e7f485.js";import{i as Ve}from"./index-6b4c7132.js";import{S as Ue}from"./index-5981696e.js";const qe=10,Ze=20;function Je(e){const{fullscreen:t,validRange:o,generateConfig:n,locale:r,prefixCls:l,value:i,onChange:p,divRef:f}=e,c=n.getYear(i||n.getNow());let d=c-qe,$=d+Ze;o&&(d=n.getYear(o[0]),$=n.getYear(o[1])+1);const C=r&&r.year==="年"?"年":"",s=[];for(let g=d;g<$;g++)s.push({label:`${g}${C}`,value:g});return a.createElement(_,{size:t?void 0:"small",options:s,value:c,className:`${l}-year-select`,onChange:g=>{let b=n.setYear(i,g);if(o){const[u,S]=o,h=n.getYear(b),x=n.getMonth(b);h===n.getYear(S)&&x>n.getMonth(S)&&(b=n.setMonth(b,n.getMonth(S))),h===n.getYear(u)&&x<n.getMonth(u)&&(b=n.setMonth(b,n.getMonth(u)))}p(b)},getPopupContainer:()=>f.current})}function Qe(e){const{prefixCls:t,fullscreen:o,validRange:n,value:r,generateConfig:l,locale:i,onChange:p,divRef:f}=e,c=l.getMonth(r||l.getNow());let d=0,$=11;if(n){const[g,b]=n,u=l.getYear(r);l.getYear(b)===u&&($=l.getMonth(b)),l.getYear(g)===u&&(d=l.getMonth(g))}const C=i.shortMonths||l.locale.getShortMonths(i.locale),s=[];for(let g=d;g<=$;g+=1)s.push({label:C[g],value:g});return a.createElement(_,{size:o?void 0:"small",className:`${t}-month-select`,value:c,options:s,onChange:g=>{p(l.setMonth(r,g))},getPopupContainer:()=>f.current})}function Ke(e){const{prefixCls:t,locale:o,mode:n,fullscreen:r,onModeChange:l}=e;return a.createElement(Ge,{onChange:i=>{let{target:{value:p}}=i;l(p)},value:n,size:r?void 0:"small",className:`${t}-mode-switch`},a.createElement(ie,{value:"month"},o.month),a.createElement(ie,{value:"year"},o.year))}function ke(e){const{prefixCls:t,fullscreen:o,mode:n,onChange:r,onModeChange:l}=e,i=a.useRef(null),p=a.useContext(re),f=a.useMemo(()=>Object.assign(Object.assign({},p),{isFormItemInput:!1}),[p]),c=Object.assign(Object.assign({},e),{onChange:r,fullscreen:o,divRef:i});return a.createElement("div",{className:`${t}-header`,ref:i},a.createElement(re.Provider,{value:f},a.createElement(Je,Object.assign({},c)),n==="month"&&a.createElement(Qe,Object.assign({},c))),a.createElement(Ke,Object.assign({},c,{onModeChange:l})))}const et=e=>{const{calendarCls:t,componentCls:o,calendarFullBg:n,calendarFullPanelBg:r,calendarItemActiveBg:l}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Oe(e)),K(e)),{background:n,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${e.paddingSM}px 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${o}-panel`]:{background:r,border:0,borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${o}-month-panel, ${o}-date-panel`]:{width:"auto"},[`${o}-body`]:{padding:`${e.paddingXS}px 0`},[`${o}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${o}-panel`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${o}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:`${e.weekHeight}px`}},[`${o}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${o}-panel`]:{display:"block",width:"100%",textAlign:"end",background:n,border:0,[`${o}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:`${e.weekHeight}px`}}},[`${o}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${o}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:l}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${e.marginXS/2}px`,padding:`${e.paddingXS/2}px ${e.paddingXS}px 0`,border:0,borderTop:`${e.lineWidthBold}px ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:`${e.dateValueHeight}px`,transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${e.screenXS}px) `]:{[`${t}`]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${e.paddingXS}px)`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},tt=J("Calendar",e=>{const t=`${e.componentCls}-calendar`,o=Q(Ve(e),Me(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,calendarFullBg:e.colorBgContainer,calendarFullPanelBg:e.colorBgContainer,calendarItemActiveBg:e.controlItemBgActive,dateValueHeight:e.controlHeightSM,weekHeight:e.controlHeightSM*.75,dateContentHeight:(e.fontSizeSM*e.lineHeightSM+e.marginXS)*3+e.lineWidth*2});return[et(o)]},{yearControlWidth:80,monthControlWidth:70,miniContentHeight:256});function nt(e){function t(l,i){return l&&i&&e.getYear(l)===e.getYear(i)}function o(l,i){return t(l,i)&&e.getMonth(l)===e.getMonth(i)}function n(l,i){return o(l,i)&&e.getDate(l)===e.getDate(i)}return l=>{const{prefixCls:i,className:p,style:f,dateFullCellRender:c,dateCellRender:d,monthFullCellRender:$,monthCellRender:C,headerRender:s,value:g,defaultValue:b,disabledDate:u,mode:S,validRange:h,fullscreen:x=!0,onChange:M,onPanelChange:O,onSelect:v}=l,{getPrefixCls:B,direction:H}=a.useContext(F),w=B("picker",i),y=`${w}-calendar`,[A,z]=tt(w),k=e.getNow(),[N,ue]=le(()=>g||e.getNow(),{defaultValue:b,value:g}),[D,he]=le("month",{value:S}),L=a.useMemo(()=>D==="year"?"month":"date",[D]),fe=a.useCallback(m=>(h?e.isAfter(h[0],m)||e.isAfter(m,h[1]):!1)||!!(u!=null&&u(m)),[u,h]),ee=(m,I)=>{O==null||O(m,I)},be=m=>{ue(m),n(m,N)||((L==="date"&&!o(m,N)||L==="month"&&!t(m,N))&&ee(m,D),M==null||M(m))},te=m=>{he(m),ee(N,m)},Y=m=>{be(m),v==null||v(m)},$e=()=>{const{locale:m}=l,I=Object.assign(Object.assign({},ve),m);return I.lang=Object.assign(Object.assign({},I.lang),(m||{}).lang),I},Ce=a.useCallback(m=>c?c(m):a.createElement("div",{className:P(`${w}-cell-inner`,`${y}-date`,{[`${y}-date-today`]:n(k,m)})},a.createElement("div",{className:`${y}-date-value`},String(e.getDate(m)).padStart(2,"0")),a.createElement("div",{className:`${y}-date-content`},d&&d(m))),[c,d]),ye=a.useCallback((m,I)=>{if($)return $(m);const Se=I.shortMonths||e.locale.getShortMonths(I.locale);return a.createElement("div",{className:P(`${w}-cell-inner`,`${y}-date`,{[`${y}-date-today`]:o(k,m)})},a.createElement("div",{className:`${y}-date-value`},Se[e.getMonth(m)]),a.createElement("div",{className:`${y}-date-content`},C&&C(m)))},[$,C]);return A(a.createElement(xe,{componentName:"Calendar",defaultLocale:$e},m=>a.createElement("div",{className:P(y,{[`${y}-full`]:x,[`${y}-mini`]:!x,[`${y}-rtl`]:H==="rtl"},p,z),style:f},s?s({value:N,type:D,onChange:Y,onTypeChange:te}):a.createElement(ke,{prefixCls:y,value:N,generateConfig:e,mode:D,fullscreen:x,locale:m.lang,validRange:h,onChange:Y,onModeChange:te}),a.createElement(Pe,{value:N,prefixCls:w,locale:m.lang,generateConfig:e,dateRender:Ce,monthCellRender:I=>ye(I,m.lang),onSelect:Y,mode:L,picker:L,disabledDate:fe,hideHeader:!0}))))}}const ot=nt(je),lt=ot,at=e=>{let{children:t}=e;return t},rt=at;function W(e){return e!=null}const it=e=>{let{itemPrefixCls:t,component:o,span:n,className:r,style:l,labelStyle:i,contentStyle:p,bordered:f,label:c,content:d,colon:$}=e;const C=o;return f?a.createElement(C,{className:P({[`${t}-item-label`]:W(c),[`${t}-item-content`]:W(d)},r),style:l,colSpan:n},W(c)&&a.createElement("span",{style:i},c),W(d)&&a.createElement("span",{style:p},d)):a.createElement(C,{className:P(`${t}-item`,r),style:l,colSpan:n},a.createElement("div",{className:`${t}-item-container`},(c||c===0)&&a.createElement("span",{className:P(`${t}-item-label`,{[`${t}-item-no-colon`]:!$}),style:i},c),(d||d===0)&&a.createElement("span",{className:P(`${t}-item-content`),style:p},d)))},U=it;function q(e,t,o){let{colon:n,prefixCls:r,bordered:l}=t,{component:i,type:p,showLabel:f,showContent:c,labelStyle:d,contentStyle:$}=o;return e.map((C,s)=>{let{props:{label:g,children:b,prefixCls:u=r,className:S,style:h,labelStyle:x,contentStyle:M,span:O=1},key:v}=C;return typeof i=="string"?a.createElement(U,{key:`${p}-${v||s}`,className:S,style:h,labelStyle:Object.assign(Object.assign({},d),x),contentStyle:Object.assign(Object.assign({},$),M),span:O,colon:n,component:i,itemPrefixCls:u,bordered:l,label:f?g:null,content:c?b:null}):[a.createElement(U,{key:`label-${v||s}`,className:S,style:Object.assign(Object.assign(Object.assign({},d),h),x),span:1,colon:n,component:i[0],itemPrefixCls:u,bordered:l,label:g}),a.createElement(U,{key:`content-${v||s}`,className:S,style:Object.assign(Object.assign(Object.assign({},$),h),M),span:O*2-1,component:i[1],itemPrefixCls:u,bordered:l,content:b})]})}const st=e=>{const t=a.useContext(ce),{prefixCls:o,vertical:n,row:r,index:l,bordered:i}=e;return n?a.createElement(a.Fragment,null,a.createElement("tr",{key:`label-${l}`,className:`${o}-row`},q(r,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),a.createElement("tr",{key:`content-${l}`,className:`${o}-row`},q(r,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):a.createElement("tr",{key:l,className:`${o}-row`},q(r,e,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},ct=st,dt=e=>{const{componentCls:t,descriptionsSmallPadding:o,descriptionsDefaultPadding:n,descriptionsMiddlePadding:r,descriptionsBg:l}=e;return{[`&${t}-bordered`]:{[`${t}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"}},[`${t}-item-label, ${t}-item-content`]:{padding:n,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`${t}-item-label`]:{backgroundColor:l,"&::after":{display:"none"}},[`${t}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"}},[`&${t}-middle`]:{[`${t}-item-label, ${t}-item-content`]:{padding:r}},[`&${t}-small`]:{[`${t}-item-label, ${t}-item-content`]:{padding:o}}}}},gt=e=>{const{componentCls:t,descriptionsExtraColor:o,descriptionItemPaddingBottom:n,descriptionsItemLabelColonMarginRight:r,descriptionsItemLabelColonMarginLeft:l,descriptionsTitleMarginBottom:i}=e;return{[t]:Object.assign(Object.assign(Object.assign({},K(e)),dt(e)),{["&-rtl"]:{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:i},[`${t}-title`]:Object.assign(Object.assign({},we),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:o,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${l}px ${r}px`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},mt=J("Descriptions",e=>{const t=e.colorFillAlter,o=e.fontSizeSM*e.lineHeightSM,n=e.colorText,r=`${e.paddingXS}px ${e.padding}px`,l=`${e.padding}px ${e.paddingLG}px`,i=`${e.paddingSM}px ${e.paddingLG}px`,p=e.padding,f=e.marginXS,c=e.marginXXS/2,d=Q(e,{descriptionsBg:t,descriptionsTitleMarginBottom:o,descriptionsExtraColor:n,descriptionItemPaddingBottom:p,descriptionsSmallPadding:r,descriptionsDefaultPadding:l,descriptionsMiddlePadding:i,descriptionsItemLabelColonMarginRight:f,descriptionsItemLabelColonMarginLeft:c});return[gt(d)]}),ce=a.createContext({}),de={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function pt(e,t){if(typeof e=="number")return e;if(typeof e=="object")for(let o=0;o<ae.length;o++){const n=ae[o];if(t[n]&&e[n]!==void 0)return e[n]||de[n]}return 3}function se(e,t,o){let n=e;return(o===void 0||o>t)&&(n=Ae(e,{span:t})),n}function ut(e,t){const o=Ee(e).filter(i=>i),n=[];let r=[],l=t;return o.forEach((i,p)=>{var f;const c=(f=i.props)===null||f===void 0?void 0:f.span,d=c||1;if(p===o.length-1){r.push(se(i,l,c)),n.push(r);return}d<l?(l-=d,r.push(i)):(r.push(se(i,l,d)),n.push(r),l=t,r=[])}),n}function R(e){let{prefixCls:t,title:o,extra:n,column:r=de,colon:l=!0,bordered:i,layout:p,children:f,className:c,style:d,size:$,labelStyle:C,contentStyle:s}=e;const{getPrefixCls:g,direction:b}=a.useContext(F),u=g("descriptions",t),[S,h]=a.useState({}),x=pt(r,S),[M,O]=mt(u),v=We();a.useEffect(()=>{const w=v.subscribe(y=>{typeof r=="object"&&h(y)});return()=>{v.unsubscribe(w)}},[]);const B=ut(f,x),H=a.useMemo(()=>({labelStyle:C,contentStyle:s}),[C,s]);return M(a.createElement(ce.Provider,{value:H},a.createElement("div",{className:P(u,{[`${u}-${$}`]:$&&$!=="default",[`${u}-bordered`]:!!i,[`${u}-rtl`]:b==="rtl"},c,O),style:d},(o||n)&&a.createElement("div",{className:`${u}-header`},o&&a.createElement("div",{className:`${u}-title`},o),n&&a.createElement("div",{className:`${u}-extra`},n)),a.createElement("div",{className:`${u}-view`},a.createElement("table",null,a.createElement("tbody",null,B.map((w,y)=>a.createElement(ct,{key:y,index:y,colon:l,prefixCls:u,vertical:p==="vertical",bordered:i,row:w}))))))))}R.Item=rt;function ht(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const X=(e,t,o)=>{const n=ht(o);return{[`${e.componentCls}-${t}`]:{color:e[`color${o}`],background:e[`color${n}Bg`],borderColor:e[`color${n}Border`]}}},ft=e=>Xe(e,(t,o)=>{let{textColor:n,lightBorderColor:r,lightColor:l,darkColor:i}=o;return{[`${e.componentCls}-${t}`]:{color:n,background:l,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i}}}}),bt=e=>{const{paddingXXS:t,lineWidth:o,tagPaddingHorizontal:n,componentCls:r}=e,l=n-o,i=t-o;return{[r]:Object.assign(Object.assign({},K(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${r}-close-icon`]:{marginInlineStart:i,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}})}},ge=J("Tag",e=>{const{fontSize:t,lineHeight:o,lineWidth:n,fontSizeIcon:r}=e,l=Math.round(t*o),i=e.fontSizeSM,p=l-n*2,f=e.colorFillAlter,c=e.colorText,d=Q(e,{tagFontSize:i,tagLineHeight:p,tagDefaultBg:f,tagDefaultColor:c,tagIconSize:r-2*n,tagPaddingHorizontal:8});return[bt(d),ft(d),X(d,"success","Success"),X(d,"processing","Info"),X(d,"error","Error"),X(d,"warning","Warning")]});var $t=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const Ct=e=>{var{prefixCls:t,className:o,checked:n,onChange:r,onClick:l}=e,i=$t(e,["prefixCls","className","checked","onChange","onClick"]);const{getPrefixCls:p}=a.useContext(F),f=s=>{r==null||r(!n),l==null||l(s)},c=p("tag",t),[d,$]=ge(c),C=P(c,{[`${c}-checkable`]:!0,[`${c}-checkable-checked`]:n},o,$);return d(a.createElement("span",Object.assign({},i,{className:C,onClick:f})))},yt=Ct;var St=globalThis&&globalThis.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const xt=(e,t)=>{var{prefixCls:o,className:n,style:r,children:l,icon:i,color:p,onClose:f,closeIcon:c,closable:d=!1}=e,$=St(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]);const{getPrefixCls:C,direction:s}=a.useContext(F),[g,b]=a.useState(!0);a.useEffect(()=>{"visible"in $&&b($.visible)},[$.visible]);const u=_e(p)||Fe(p),S=Object.assign({backgroundColor:p&&!u?p:void 0},r),h=C("tag",o),[x,M]=ge(h),O=P(h,{[`${h}-${p}`]:u,[`${h}-has-color`]:p&&!u,[`${h}-hidden`]:!g,[`${h}-rtl`]:s==="rtl"},n,M),v=z=>{z.stopPropagation(),f==null||f(z),!z.defaultPrevented&&b(!1)},B=()=>d?c?a.createElement("span",{className:`${h}-close-icon`,onClick:v},c):a.createElement(Re,{className:`${h}-close-icon`,onClick:v}):null,H=typeof $.onClick=="function"||l&&l.type==="a",w=i||null,y=w?a.createElement(a.Fragment,null,w,a.createElement("span",null,l)):l,A=a.createElement("span",Object.assign({},$,{ref:t,className:O,style:S}),y,B());return x(H?a.createElement(Le,null,A):A)},me=a.forwardRef(xt);me.CheckableTag=yt;const vt=me,wt="_descriptions_1ycru_1",Z={descriptions:wt,"calendar-header":"_calendar-header_1ycru_5","show-time":"_show-time_1ycru_9"},Et=new Date;var pe=(e=>(e.normal="正常出勤",e.absent="旷工",e.miss="漏打卡",e.late="迟到",e.early="早退",e.lateAndEarly="迟到并早退",e))(pe||{});const E={normal:0,absent:0,miss:0,late:0,early:0,lateAndEarly:0},It={type:"success",text:"正常"};function Wt(){const[e,t]=a.useState(Et.getMonth()),o=Ie(),n=ne(s=>s.signs.infos),r=ne(s=>s.users.infos),l=Be(),[i,p]=a.useState({...E}),[f,c]=a.useState({...It});a.useEffect(()=>{Te.isEmpty(n)&&l(He({userid:r._id})).then(s=>{const{errcode:g,infos:b}=s.payload.data;g===0&&l(oe(b))})},[n,r,l]),a.useEffect(()=>{if(n.detail){const s=n.detail[G(e+1)];for(let g in s)switch(s[g]){case"正常出勤":E.normal++;break;case"旷工":E.absent++;break;case"早退":E.early++;break;case"迟到":E.late++;break;case"迟到并早退":E.lateAndEarly++;break;case"漏打卡":E.miss++;break}p({...E});for(const g in E)g!=="normal"&&E[g]!==0&&c({type:"error",text:"异常"})}return()=>{c({type:"success",text:"正常"});for(let s in E)E[s]=0}},[e,n]);const d=()=>{l(ze({userid:r._id})).then(s=>{const{errcode:g,infos:b}=s.payload.data;g===0&&(l(oe(b)),De.success("签到成功"))})},$=()=>{o(`/exception?month=${e+1}`)},C=s=>{const g=n.time&&n.time[G(s.month()+1)],b=g&&g[G(s.date())];let u="";return Array.isArray(b)&&(u=b.join(" - ")),j("div",{className:Z["show-time"],children:u})};return T("div",{children:[T(R,{className:Z.descriptions,layout:"vertical",column:9,bordered:!0,children:[T(R.Item,{label:"月份",children:[e+1,"月"]}),Object.entries(pe).map(s=>j(R.Item,{label:s[1],children:i[s[0]]},s[0])),j(R.Item,{label:"操作",children:j(V,{type:"primary",onClick:$,ghost:!0,size:"small",children:"查看详情"})}),j(R.Item,{label:"考勤状态",children:j(vt,{color:f.type,children:f.text})})]}),j(lt,{locale:Ne,dateCellRender:C,headerRender:({value:s,type:g,onChange:b,onTypeChange:u})=>{const S=[];for(let h=0;h<12;h++)S.push(T(_.Option,{value:h,children:[h+1,"月"]},h));return T(Ye,{className:Z["calendar-header"],justify:"space-between",align:"middle",children:[j(V,{type:"primary",onClick:d,children:"在线签到"}),T(Ue,{children:[T(V,{children:[s.year(),"年"]}),j(_,{value:e,onChange:h=>{t(h),b(s.clone().month(h))},children:S})]})]})}})]})}export{Wt as default};
